\documentclass[]{article}

\usepackage{graphicx}
\usepackage{amssymb}
\usepackage{color}
\usepackage{hyperref}
\usepackage{float}

\bibliographystyle{abbrv}

\newcommand{\knote}[1]{{\textcolor{green}{Alex notes}}{#1}}
\newcommand{\dnote}[1]{{\textcolor{red}{DNotes:{#1}}}}
\newcommand{\Ergo}{Ergo}
\newcommand{\Erg}{\textbf{Erg}}
\newcommand{\nanoErg}{\textbf{nanoErg}}

\begin{document}
    \title{Ergo: The Resilient Platform For Contractual Money}
    %    \author{Dmitry Meshkov}

    %    \date{January 25, 2019\\v1.0}

    \maketitle

    \begin{abstract}
        \dnote{todo}
    \end{abstract}

    %    #######################################################################################
    %    Базовые мысли:
    %
    %    Основные фичи - децентрализация и контракционные деньги
    %    Изначальные пользователи - фанаты децентрализации кто уже более-менее в теме, и устали от проблем BTC/ETH (пример - Justin, mx)
    %
    %    #######################################################################################


    \section{Introduction}

    %    Блокчейн дает безопасность (resilient), которая следует из децентрализации (на разных уровнях - майнеры, разработчики, легкие клиенты). (Bitcoin and its problems?)
    %    Безопасность идет высокой ценой (синхронизация и процессинг данных на куче компов), поэтому основное применение - денежное (Money)
    %    Для активного применения (platform) нужна адаптивность под окружение (голосование, выживаемость и т.д.) и возможности написания финансовых контрактов (Contractual)
    %    Вот это все в Эрго, лучше чем в Эфириуме и Биткоине.

    Started more ten years ago with the Bitcoin~\cite{nakamoto2008bitcoin}, blockchain technology proved to be a secure way on maintaining
    a public transaction ledger.
    Even after achieving a market capitalisation over \$300bn in 2017~\cite{https://cointelegraph.com/news/bitcoins-price-surpasses-18000-level-market-cap-now-higher-than-visas}
    no serious attacks were performed to the Bitcoin network\dnote{check} despite the high yield of a successful attack.
    At the same time, centralized services are continuously fails to resist attacks, regardless of a maintaining company size and expertize.
    \dnote{examples of attacks to crypto exchanges (mt. gox?), big companies (Facebook? Or better some bank), malicious or incompetent behaviour of some human.
    Discuss a bit more if there are good examples especially of the last point}.
    This outstanding resilience of cryptocurrencies is achieved by a combination of modern cryptographic algorithms like digital
    signatures, that are widely adapted outside cryptocurrencies space, and decentralization, that is ensures that only
    the majority of the network participants can affect its security.

    However, this resilience does not come for free.
    To use a blockchain without any trust, it's participants should download and process all the transactions in
    the network, utilizing network resources.
    Besides network utilization, transaction processing requires to spend some computational resources,
    especially if transactional language is flexible enough.
    Finally, blockchains participants should keep quite big amount of data in their local storages and
    this storage requirements are growing fast.
    Thus thousands of computers all over the world utilize various resources
    increasing the cost of single transaction processing,
    and users pay transaction fees~\cite{A Systematic Approach To Cryptocurrency Fees} to prevent spam attacks and
    to encourage participation in the protocol.
    These fees may be very high during the high load~\cite{https://arstechnica.com/tech-policy/2017/12/bitcoin-fees-rising-high/},
    and ten years later blockchain technology is still mainly used in a money application, where the advantage of
    high security outweighs the disadvantage of high transaction costs.

    Besides of a plain currency usage, most of blockchains are used to build decentralized applications on top of them.
    Such applications utilize the ability to write smart contracts~\cite{n.sabo}, that implements their logic
    by means of blockchain-specific programming language.
    Ways to write smart contracts depends on cryptocurrency transactional model~\cite{https://eprint.iacr.org/2018/262.pdf} ---
    in UTXO-based cryptocurrencies like Bitcoin~\cite{nakamoto2008bitcoin} every coin is protected by a used-defined script,
    while in account-based cryptocurrencies like Ethereum~\cite{ETH whitepaper} transactions call a code from special contract accounts.
    While this models are equivalent \dnote{correct word here?}, protecting scripts implementation is not so natural for
    account model~(e.g. simple multi-signature contract bug led to \$150 million loss in 2017 in Ethereum~\cite{https://www.ccn.com/i-accidentally-killed-it-parity-wallet-bug-locks-150-million-in-ether}),
    while arbitrary Turing-complete logic implementation may be tricky in UTXO model~(e.g. check this example of
    simple Turing-complete system implementation in \Ergo{}~\cite{chepurnoy2018self}).

    While contractual component is attractive in terms of building decentralized applications,
    it is also important that the blockchain will survive in a long term.
    For now the whole area is young and most of application-oriented blockchain platforms exists just for several years,
    while they already have known problems with performance degradation over time \dnote{links and may be more discussion of known problems}
    and their long-term survivability is questionable.
    This problem led to concepts of lightened nodes with minimum storage requirements~\cite{reyzin2017improving},
    storage rent fee component that prevents bloating of full-node requirements~\cite{chepurnoy2018systematic},
    self-amendable protocols that can adopt to changing environment and improve themselves without
    trusted parties~\cite{tezos}, and more.

    The main goal of the Ergo platform is to solve these problems by implementing known scientific ideas.
    It may be called a ``blockchain 1.1'' implementation --- a major update to
    blockchain technology instead of revolutionary breaking changes.
    The objective of Ergo is to be the platform for blockchain-demanding decentralized
    applications, survivable in the long-term and reliable to external or internal threats.
    In the following sections we summarize the general design of Ergo, it's technical and economic solutions,
    as well as provide possible examples of it's use-cases and further development.

    \section{Social contract}
    \label{sec:social}

    \Ergo{} protocol is very flexible and may be changed in the future by the community.
    In this section we define the main principles, that should be followed during the \Ergo{} protocol updates.
    In case of intentional violation of any of these principles, the resulting protocol should not
    be called \Ergo{}.

    \begin{itemize}
        \item{\em Decentralization first.} \Ergo{} should be as decentralized as possible.
        This means that any parties (social leaders, software developers, hardware manufacturers, miners and so on)
        which absence or malicious behaviour may affect the security of the network should be avoided.
        \item{\em Created for regular people.} \Ergo{} is the platform for regular people, their interests should
        not be infringed upon in favor of big players. In particular, that means that they should be able to
        participate in the protocol by running a full node and mine blocks (with small probability).
        \item{\em Platform for Contractual money.} \Ergo{} is the base layer to applications, that will be
        build on top of it. It allows to implement any kind of applications, but it's main goal is
        to provide efficient, secure and easy way to implement financial contracts. \dnote{probably kushti may write this better}
        \item{\em Long terms focus.} All aspects of \Ergo{} development should be focus on long-term perspective.
        At any point of time, \Ergo{} should be able to survive for centuries without expected hardforks,
        software or hardware improvements or some other unpredictable changes. As far as \Ergo{} is oriented
        to be a platform, applications built on top of \Ergo{} should also be able to survive in a long term.
        \item{\em Permissionless and open.} \Ergo{} protocol does not restrict or limit any categories of usage.
        It should allow anyone to join the network and participate the protocol without any preliminary permissions.
        No bailouts, blacklists or other forms of discrimination should be possible on core level of \Ergo{} protocol.
        On the other hand application developers are free to implement any logic they want, taking responsibility
        for the ethics and legality of their application.
    \end{itemize}


    \section{Survivability}
    \label{sec:survivability}

    %   well-tested solutions
    %   voting
    %   soft-forkability
    %   storage rent
    %   light clients (сослаться на раздел ниже или изложить полностью)

    \section{Autolykos Consensus Protocol}
    \label{sec:autolykos}

    %   Почему выбрали PoW
    %   Известные проблемы PoW
    %   Детали Автоликуса

    \section{Clients}
    \label{sec:clients}

    %   Пробелмы пользователей без легких клиентов
    %   nipopow/flight clients
    %   Дайджест узлы


    \section{Currency And Emission}
    \label{sec:currency}

    %    подробная информация об эмиссии, скрипту эмиссии, и всему-всему что нужно для фаундейшена

    The native currency of \Ergo{} platform is \Erg{} token, which unique property is
    that it is the only currency to pay storage rent in \Ergo{}~(see~\ref{sec:economy} for more details).
    One \Erg{} token is divisible to up to $10^9$ parts labeled as \nanoErg{}.

    All \Erg{} tokens that will ever be circulate in the system are presented in the
    initial state and are divided in 3 parts~(boxes):

    \begin{itemize}
        \item{\em No premine proof.} This box contain exactly one~\Erg{} and is protected by the script,
        that is preventing it from spending by anyone.
        Thus, it is a long-living box, that will live in the system until storage-rent component will
        destroy it.
        It's main purpose is to prove, that \Ergo{} mining was not started privately by anyone before
        the declared launch date.
        To achieve this, additional registers of this box contains news from media (Guardian, Xinhua, Vedomosti)
        and block ids from already established cryptocurrencies (Bitcoin and Ethereum).
        Thus, \Ergo{} mining could not be started before certain events in the real world and in
        cryptocurrency space.

        \item{\em Foundation reward.} This box contain 4330791.5 \Erg{} that will be used to fund \Ergo{}
        development.
        It's protecting script is avaliable at~\cite{link to corresponding sigma tree} and consists of two parts.

        First, it requires that spending transaction should be signed by at least 2 of 3 secret keys,
        that are under control of initial team members. When they spend this box, they are free to
        change this part of the script as they wish, for example by adding new members to protect foundation
        funds.

        Second, it ensures, that only predefined portion of the box value was taken.
        During blocks 1-525599 (2 years) 7.5 \Erg{} will be released every block,
        during blocks 525600-590399 (3 month) 4.5 \Erg{} will be released every block and finally
        during blocks 590400-655199 (3 month) 1.5 \Erg{} will be released every block.
        This rule ensures the presence of funds for \Ergo{} development for at least 2.5 years and
        prevents an excessive wealth concentration under control of small group of people, as soon
        as at any point of time it won't exceed 10\% of total number of coins in circulation.

        \item{\em Miners reward.} This box contain 93409132 \Erg{} that will be collected by block miners
        as a reward of their work.
        It's protecting script is coded at \cite{link to corresponding sigma tree} and have several conditions.

        First it checks, that block reward is going to the exact miner, that solved the PoW puzzle, and
        may be spent not earlier than 720 blocks after the current block.
        This restrictions are done to prevent mining pools formation, see~\ref{sec:autolykos} for more details.

        Second, it ensures, that only predefined portion of the box value was taken.
        During blocks 1 - 525599 (2 years) miner will be able to collect 67.5 \Erg{} from this box,
        during blocks 525600 - 590399 (3 month) miner will be able to collect 66 \Erg{} and after
        that block reward will be reduced for 3 \Erg{} every 64800 blocks (3 months) until it will reach zero
        at block 2080799, that should happen roughly 8 years after the genesis block.


    \end{itemize}

    All these rules results in the following curve of efficient number of coins in circulation with time:

    \dnote{TODO: plot the correct emission curve - number of \Erg{} in circulation vs time. Miners and foundation part, like ZCash https://z.cash/blog/funding/}


    \section{Economy}
    \label{sec:economy}

    %   пишет Саша
    %   ценность нашего токена, и филосовские размышления о данном типе экономики

    \section{Contractual Money}
    \label{sec:contractual}

    %   пишет Саша

    %   практические удобные и эффективные контракты для денег
    %   Описать про UTXO модель, почему мы ее выбрали
    %   Скрипт - доступ к стейту, доступ к блокчейну, цепочки (тут можно сослаться на Эфир, ибо там написано что в UTXO это невозможно), сигма протоколы
    %   token system - токены на базовом уровне, сильно упрощают протоколы вида "token threshold", позволяют разграничить потоки
    %   ? Анонимность и пример контракта миксинга
    %   Примеры 1-2 контракта, который иллюстрируют несколько основных преимуществ эрго

    \section{Conclusions}

    \bibliography{references}

\end{document}
