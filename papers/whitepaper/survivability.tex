\section{Survivability}
\label{sec:survivability}

% well-tested solutions
% voting
% soft-forkability
% storage rent
% light clients (Пробелмы пользователей без легких клиентов, Дайджест узлы, nipopow/flight clients)

Being a platform for contractual money, Ergo should also support long-term contracts for a
period of a person's life.
While even young project are experiencing issues with performance degradation and
adaptability to external conditions, leading to a situation when a decentralized cryptocurrency
depends on a small group of developers, that should provide a hard-fork, otherwise the cryptocurrency
won't survive.

The first common issue is that in pursuit of popularity blockchain developers implement ad-hoc
solutions without proper preliminary research and testing.
Such solutions inevitably lead to bugs, and regardless of whether they were exploited or not
to bug fixes in a centralized manner, that makes the network even less secure.
Ergo approach here is to use stable well-tested solutions, even if that leads to slower
short-term innovation applicability.
Most of Ergo solutions are formalized in scientific papers, presented at peer-reviewed conferences
and are widely discussed in the community.

In particular, Ergo avoid solutions that may be useful for now, but will lead to performance degradation
over time while also preventing some known performance problems of the blockchain technology.
As far as Ergo is a PoW blockchain, it easily allows extracting a small header from the block content.
Simple header allows to validate the work done, while headers chain is enough to select the best chain
and synchronize the network.
Headers chain is much smaller than the full one, however it still growths linearly with time.
Hopefully, modern researches of light clients~\cite{nipopows, flight clients} provide a way to
synchronize the network by downloading only a small subset of headers, unlocking the ability to
use the network without any trust from low-end hardware like smartphones.
In addition, Ergo uses authenticated state\cite{???} and for any transaction included,
a client may download a proof of its correctness.
Thus, regardless of the blockchain size, a regular user with a
smart-phone can join the network and start using Ergo with the same security
guarantees as a full node.

Although support of light clients solves problems of Ergo users, it does not solve problems
of Ergo miners, that still should keep the whole state of the network to efficiently validate
transactions.
In existing blockchain systems, users can put arbitrary data to this state forever,
creating a lot of dust in it and increasing its size over time~\cite{bitcoin utxo dust}.
This leads to serious security issues, as far as when state size does not fit in memory,
an adversary may generate transactions that require access to random parts of this state
leading to DoS attack like an attack to the Ethereum network in 2016~\cite{??}.
To prevent this, Ergo uses economic solution, analyzed in~\cite{chepurnoy2018systematic}: if an
output remains in the state for 4 years without being moved, a miner may charge a small fee for every
byte kept in the state.
This idea is similar to regular cloud storage services, however, it is new for
cryptocurrencies and has several important consequences.
First, Ergo mining will always be stable, unlike Bitcoin and other PoW currencies, in which mining may become unstable after the
initial emission~\cite{carlsten2016instability}.
Second, state size growth becomes controllable and predictable, reducing hardware requirements for Ergo miners.
Third, by collecting a storage fee from outdated boxes, miners return coins to circulation, preventing a steady decrease
of circulating supply due to lost keys~\cite{wsj2018}.
All these effects should support Ergo long-term survivability, both technically and economically.

Another important aspect of survivability is that the environment changes and a blockchain should
adapt to changing hardware infrastructure, appearing ideas that may improve security or
scalability, arising use-cases and so on.
If all the rules are fixed without any ability to change them in a decentralized manner, even
simple constant change may lead to huge debates and community split, e.g. discussion of a block
size limit in Bitcoin led to the network split into several independent coins.

In contrast, Ergo protocol is self-amendable and is able to adapt to the changing environment.
In Ergo parameters like block size can be changed on-the-fly via miners voting.
At the beginning of a 1024 blocks length voting epoch miner is proposing changes~(up to 2 parameters,
e.g. to increase block size and to decrease storage fee factor) and during the rest of epoch miners
vote, whether to approve these changes or not.
If the majority of votes within an epoch are supporting some~(or both) of these changes, a new value of the
parameter should be written into the extension section of the first block of the next epoch and the
network starts to use this update parameter value during block mining and validation.

To absorb more fundamental changes, Ergo is following the approach of soft-forkability, that
allows to change protocol significantly but keeping old nodes operating.
At the beginning of an epoch, miner can also propose to vote for a fundamental change~(e.g.~to
add new instruction to ErgoScript), describing affected validation rules.
Voting for such breaking changes continues for 32768 blocks and requires at least $90\%$ of
"Yes" votes to be accepted.
Once being accepted, 32768 blocks length activation period started to give time to outdated
nodes to update their software version, and after that changes are activated.
If a node is still not updated after the activation period, it skips the specified checks,
but continues to validate all the known rules.
List of previous soft-fork changes is record into the extension to allow light nodes of
any software version to join the network and read validation rules, it should not check.
