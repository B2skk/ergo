\section{Ergo Modifiers Validation}

This section describes all consensus-critical validation rules, that should be performed by every node in the network.
Every rule is numerated and may be deactivated later via soft forks, while new rules may also be added.


% DON'T EDIT THIS TABLE.
% it is auto-generated by org.ergoplatform.tools.ValidationRulesPrinter

\textbf{Transaction validation:}


\begin{tabular}{ |p{1.0cm}||p{7.5cm}|p{1.0cm}|p{2.5cm}| }
    \hline
    Id & Validation rule & Active & Modifiers \\
    \hline
    100 & A transaction should have at least one input. & true & ErgoTransaction \\
    \hline
    101 & A transaction should have at least one output. & true & ErgoTransaction \\
    \hline
    102 & A transaction inputs number should not exceed 32767. & true & ErgoTransaction \\
    \hline
    103 & A transaction data inputs number should not exceed 32767. & true & ErgoTransaction \\
    \hline
    104 & A transaction outputs number should not exceed 32767. & true & ErgoTransaction \\
    \hline
    105 & Erg amounts of transaction outputs should not be negative. & true & ErgoTransaction \\
    \hline
    106 & Sum of transaction outputs should not exceed 9223372036854775807. & true & ErgoTransaction \\
    \hline
    107 & There should be no duplicate inputs. & true & ErgoTransaction \\
    \hline
    108 & All token amounts of transaction outputs should be positive. & true & ErgoTransaction \\
    \hline
    109 & Single box tokens number should not exceed 255 and sum of assets of one type should not exceed 9223372036854775807. & true & ErgoTransaction \\
    \hline
    120 & The total cost of transaction scripts should not exceed <maxBlockCost>. & true & ErgoTransaction \\
    \hline
    121 & Every output of the transaction should contain at least <minValuePerByte * outputSize> nanoErg. & true & ErgoTransaction \\
    \hline
    122 & Transaction outputs should have creationHeight the does not exceed the block height. & true & ErgoTransaction \\
    \hline
    123 & Every input of the transaction should be present in UTXO. & true & ErgoTransaction \\
    \hline
    124 & Every data input of the transaction should be present in UTXO. & true & ErgoTransaction \\
    \hline
    125 & Sum of transaction inputs should not exceed 9223372036854775807. & true & ErgoTransaction \\
    \hline
    126 & Amount of Erg in inputs should equal to amount of Erg in outputs. & true & ErgoTransaction \\
    \hline
    127 & For every token, its amount in inputs should not exceed its amount in outputs. & true & ErgoTransaction \\
    \hline
    129 & Scripts of all transaction inputs should pass verification. & true & ErgoTransaction \\
    \hline
\end{tabular}


\textbf{Header validation:}


\begin{tabular}{ |p{1.0cm}||p{7.5cm}|p{1.0cm}|p{2.5cm}| }
    \hline
    Id & Validation rule & Active & Modifiers \\
    \hline
    200 & Genesis header should have genesis parent id. & true & Header \\
    \hline
    201 & Genesis header id should equal to id from the config. & true & Header \\
    \hline
    203 & Genesis height should be 1. & true & Header \\
    \hline
    204 & A header should contain three votes, with no duplicates and contradictory votes, that should be known by parametersDescs. & true & Header \\
    \hline
    206 & Header timestamp should be greater than parents. & true & Header \\
    \hline
    207 & A header height should be greater by one than parents. & true & Header \\
    \hline
    208 & A header should contain the correct PoW solution. & true & Header \\
    \hline
    209 & A header should contain correct required difficulty. & true & Header \\
    \hline
    210 & A header height should not be older, than current height minus <config.keepVersions>. & true & Header \\
    \hline
    211 & Parent header should not be marked as invalid. & true & Header \\
    \hline
\end{tabular}


\textbf{Block sections validation:}


\begin{tabular}{ |p{1.0cm}||p{7.5cm}|p{1.0cm}|p{2.5cm}| }
    \hline
    Id & Validation rule & Active & Modifiers \\
    \hline
    300 & A modifier should not be applied yet. & true & Header, ADProofs, Extension, BlockTransactions \\
    \hline
    302 & Block sections should correspond to the declared header. & true & ADProofs, Extension, BlockTransactions \\
    \hline
    303 & A header for the block section should not be marked as invalid. & true & ADProofs, Extension, BlockTransactions \\
    \hline
    305 & Block section should correspond to a block header that is not pruned yet. & true & ADProofs, Extension, BlockTransactions \\
    \hline
    311 & Interlinks should be packed properly. & true & Extension \\
    \hline
    312 & Interlinks should have the correct structure. & true & Extension \\
    \hline
    313 & Extension fields key length should be 2. & true & Extension \\
    \hline
    314 & Extension field value length should be <= 64. & true & Extension \\
    \hline
    315 & An extension should not contain duplicate keys. & true & Extension \\
    \hline
    316 & Extension of non-genesis block should not be empty. & true & Extension \\
    \hline
\end{tabular}


\textbf{Block application to state *validation:}


\begin{tabular}{ |p{1.0cm}||p{7.5cm}|p{1.0cm}|p{2.5cm}| }
    \hline
    Id & Validation rule & Active & Modifiers \\
    \hline
    400 & Operations applied to AVL+ tree should pass. & true & ErgoFullBlock \\
    \hline
    401 & Calculated AVL+ digest should be equal to the declared one. & true & ErgoFullBlock \\
    \hline
\end{tabular}